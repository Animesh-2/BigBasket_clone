<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .product-details-container {
            display: flex;
            justify-content: space-around;
            align-items:center;
            font-size: x-large;
            padding: 20px;
            height: 500px;
            
        }

        .product-image {
        
            padding: 80px;
            border: 1px solid #888;
        }

        .product-info {
            width: 50%;
            padding: 30px;
        
        }

        .product-name {
            font-size: 50px;
        }

        .product-price {
            font-size: 30px;
        }
        #product-mPrice{

            color: #888;
        }

        #button-container {

            display: flex;
            flex-direction: row;
            justify-content: space-between;
            padding-top: 20px;
        }

        #add-to-cart {
            padding: 10px 20px;
            background-color: #ff0000;
            color: white;
            font-size: x-large;
            border-radius: 20px;
            width: 50%;
            height: 80px;
        }

        #saveForLater {
            border-radius: 20px;
            width: 40%;
            font-size: x-large;
        }
    </style>
    <script src="https://kit.fontawesome.com/8f738ffcbd.js" crossorigin="anonymous"></script>

</head>

<body>

    <div class="product-details-container">
        <div class="product-image">
            <img id="product-image" src="" alt="Product Image">
        </div>
        <div class="product-info">
            <h2 class="product-name" id="product-name"></h2>
            <p class="product-description" id="product-description"></p>
            <p class="product-price" id="product-price"></p>
            <s class="product-mPrice" id="product-mPrice"></s>

            <div id="button-container">

                <button id="add-to-cart">Add to basket</button>
                <button id="saveForLater"><i class="fa-sharp fa-regular fa-bookmark"> </i> Save for later </button>
            </div>

        </div>
    </div>


</body>

<script>

    function addToCart(product) {
       
        var cart = JSON.parse(localStorage.getItem("cart")) || [];

        cart.push(product); 
        localStorage.setItem("cart", JSON.stringify(cart));

        alert("Product added to cart!");
    }


    document.addEventListener("DOMContentLoaded", () => {
        // Retrieve the selected product from session storage
        const selectedProduct = JSON.parse(sessionStorage.getItem("selectedProduct"));

        if (selectedProduct) {
            // Populate product details on the product_detail.html page
            document.getElementById("product-name").textContent = selectedProduct.name;
            document.getElementById("product-image").src = selectedProduct.img;
            document.getElementById("product-description").textContent =  selectedProduct.description;
            document.getElementById("product-price").textContent = "Price: ₹" + selectedProduct.price;

            // Check if there's a strikethrough price
            if (selectedProduct.mPrice) {
                var strikethroughPrice = document.getElementById("product-mPrice");
                strikethroughPrice.textContent = "MRP: ₹" + selectedProduct.mPrice;
                // strikethroughPrice.style.textDecoration = "line-through";
            }
            document.getElementById("saveForLater");
            // Add to Cart button functionality
            const addToCartButton = document.getElementById("add-to-cart");
            addToCartButton.addEventListener("click", () => {
                addToCart(selectedProduct);
                alert("Product added to cart!");
            });
        } else {
            // Redirect to the homepage or handle the case where no product is selected
            window.location.href = "test.html";
        }
    });
</script>

</html>